class Solution {
public:
    int minimumEffortPath(vector<vector<int>>& heights) {
        const int INF=1e8;
        int rows=heights.size();
        int cols=heights[0].size();
        vector<vector<int>> dist(rows,vector<int>(cols,INF));
        dist[0][0]=0;
        priority_queue<pair<int,pair<int,int>>, vector<pair<int,pair<int,int>>>, greater<pair<int,pair<int,int>>>> pq;

        pq.push({0,{0,0}});
        int delrow[]={-1,0,+1,0};
        int delcol[]={0,+1,0,-1};
        while(!pq.empty()){
            int cost=pq.top().first;
            int r=pq.top().second.first;
            int c=pq.top().second.second;
            pq.pop();
            if(r==rows-1 && c==cols-1) return cost;
            for(int i=0;i<4;i++){
                int nr=delrow[i]+r;
                int nc=delcol[i]+c;

                if(nr>=0 && nr<rows && nc>=0 && nc<cols){
                    int diff=abs(heights[nr][nc]-heights[r][c]);
                    int newdiff=max(diff,cost);
                    
                    if(newdiff<dist[nr][nc]){
                        dist[nr][nc]=newdiff;
                        pq.push({newdiff,{nr,nc}});
                    }
                    
                }
            }
        }
        return dist[rows-1][cols-1];
    }
};